<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>学祭イベント検索</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="site-header">
    <h1>学祭イベント検索</h1>
    <p class="subtitle">気になる大学・カテゴリ・分野で企画を絞り込もう</p>
  </header>

  <main class="container">
    <section id="search-area" class="card">
      <h2>検索条件</h2>

      <div class="filter-group">
        <label class="filter-title">大学</label>
        <div id="universities" class="options"></div>
      </div>

      <div class="filter-group">
        <label class="filter-title">カテゴリ</label>
        <div id="categories" class="options"></div>
      </div>

      <div class="filter-group">
        <label class="filter-title">分野</label>
        <div id="fields" class="options"></div>
      </div>

      <p class="note" id="search-note">
        ※同じグループ内で複数選択した場合は「いずれかに該当する」検索（OR）。<br/>
        異なるグループをまたいで選ぶときはすべての条件に合う結果に絞られます（AND）。
      </p>

      <div class="actions">
        <button id="searchBtn" class="btn primary-3d">検索する</button>
        <button id="clearBtn" class="btn ghost">リセット</button>
      </div>
    </section>

    <section id="results-area" class="card">
      <h2>検索結果</h2>
      <div id="results" class="results-grid">
        <!-- cards injected here -->
      </div>
      <div id="no-results" class="muted" hidden>該当する企画がありません。</div>
    </section>
  </main>

  <!-- 下部タブ（検索 / お気に入り / 地図(準備中)） -->
  <nav class="bottom-nav" role="navigation" aria-label="ページ切替">
    <button class="nav-btn active" data-view="search" title="検索">🔎<span>検索</span></button>
    <button class="nav-btn" data-view="favorites" title="お気に入り">⭐<span>お気に入り</span></button>
    <button class="nav-btn" data-view="map" title="地図">🗺️<span>地図</span></button>
  </nav>

  <!-- お気に入りビュー（下に出す形） -->
  <section id="favorites-area" class="card hidden">
    <h2>お気に入り</h2>
    <div id="favorites-list" class="results-grid"></div>
    <div class="history-area">
      <h3>過去の登録（履歴）</h3>
      <div id="fav-history" class="history-list"></div>
    </div>
  </section>

  <!-- 地図プレースホルダー -->
  <section id="map-area" class="card hidden">
    <h2>地図</h2>
    <div class="map-placeholder">地図は準備中...（このスペースに地図を表示します）</div>
  </section>

  <!-- 初回メッセージモーダル（初回のみ表示） -->
  <div id="introModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="introTitle">
    <div class="modal-content">
      <button class="modal-close" id="introClose" aria-label="閉じる">✕</button>
      <h3 id="introTitle">iTL Fest. 広報部からのメッセージ</h3>
      <div class="modal-body">
        <p>
          このサイトは、学園祭の主なターゲットである受験生の皆さんのために制作されました。自分の手で興味のある学校、学部、学科を調べるのは困難です。
          学祭の企画を実際に体験することで、入学後のイメージを掴めるよう、都内の学祭出し物を集めました。ぜひ気になる企画を見つけて足を運んでみてください。<br/>
          <small>2025 iTL Fest. 広報部</small>
        </p>
      </div>
      <div class="modal-actions">
        <label><input type="checkbox" id="dontShow"> 次から表示しない</label>
        <button id="introOk" class="btn primary-3d">閉じる</button>
      </div>
    </div>
  </div>

  <script src="options.js"></script>
  <script src="data.js"></script>
  <script src="script.js"></script>
</body>
</html>
